<html ng-app="TestApp">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CoA Test Page</title>
    <script src="lib/angular.min.js"></script>
    <script src="src/globals.js"></script>
    <script src="src/auth/index.js"></script>
    <script src="src/core/index.js"></script>
    <script src="src/data/index.js"></script>
    <script src="src/audio/player.js"></script>
    <script src="src/auth/User.js"></script>
    <script src="src/core/Class.js"></script>
    <script src="src/data/Type.js"></script>
    <script src="src/input/keyboard.js"></script>
  </head>

  <body ng-controller="TestAppController" coa-key-handler="storeKey">
      <h1>Audio</h1>
        <h2>Player</h2>
            <button ng-click="coaPlayer.play('test')">Test Sound</button>
      <h1>Input</h1>
        <h2>Keyboard</h2>
            Key pressed: {{keyPressed}}
  </body>

  <script>
      var TestApp = angular.module('TestApp', ['coa.input.keyboard',
                                              'coa.audio.player',
                                              'coa.auth'
                                              ]);

      TestApp.controller('TestAppController', ['$scope', 'coaPlayer', 'User',

          function($scope, coaPlayer, User) {

              d(new User({name: "wigy"}));

              coaPlayer.load({'test' : 'sounds/test.mp3'});

              $scope.keyPressed = '-';
              $scope.coaPlayer = coaPlayer;

              $scope.storeKey = function(name) {
                  $scope.keyPressed = name;
              };
          }
      ]);
  </script>
</html>
