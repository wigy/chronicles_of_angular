<html ng-app="TestApp">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CoA Test Page</title>
    <script src="coa.min.js"></script>
  </head>

  <body ng-controller="TestAppController" coa-key-handler="storeKey">
      <h1>Audio</h1>
        <h2>Player</h2>
            <button ng-click="coaPlayer.play('test')">Test Sound</button>
      <h1>Input</h1>
        <h2>Keyboard</h2>
            Key pressed: {{keyPressed}}
  </body>

  <script>
      var TestApp = angular.module('TestApp', ['coa.input', 'coa.audio', 'coa.auth']);

      TestApp.controller('TestAppController', ['$scope', 'coaPlayer', 'User',

          function($scope, coaPlayer, User) {

              d(new User({name: "wigy"}));

              coaPlayer.load({'test' : 'sounds/test.mp3'});

              $scope.keyPressed = '-';
              $scope.coaPlayer = coaPlayer;

              $scope.storeKey = function(name) {
                  $scope.keyPressed = name;
              };
          }
      ]);
  </script>
</html>
